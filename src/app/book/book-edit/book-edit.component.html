<div class="BookEdit">
  <h2>BookEdit</h2>

  <form *ngIf="book" #form="ngForm" (ngSubmit)="save(form.value)">
    <div [hidden]="!title.errors?.required || title.pristine">
      Title is required
    </div>
    <div [hidden]="(!subtitle.errors?.required && !subtitle.errors?.minlength) || subtitle.pristine">
      Subtitle is really to short!
    </div>
    <table>
      <tr>
        <td>ISBN</td>
        <td>{{book.isbn}}</td>
      </tr>
      <tr>
        <td>
          <label for="title">Title:</label>
        </td>
        <td>
          <input type="text" [(ngModel)]="book.title" name="title" #title="ngModel" required>
        </td>
      </tr>
      <tr>
        <td>
          <label for="subtitle">Subtitle:</label>
        </td>
        <td>
          <input type="text" [(ngModel)]="book.subtitle" name="subtitle" #subtitle="ngModel" required minlength="20">
        </td>
      </tr>
      <tr>
        <td>
          <label for="author">Author:</label>
        </td>
        <td>
          <input type="text" [(ngModel)]="book.author" name="author" #author="ngModel">
        </td>
      </tr>
      <tr>
        <td>
          <label for="abstract">Abstract:</label>
        </td>
        <td>
          <input type="text" [(ngModel)]="book.abstract" name="abstract" #abstract="ngModel">
        </td>
      </tr>
      <tr>
        <td>
          <label for="numPages">Pages:</label>
        </td>
        <td>
          <input type="number" [(ngModel)]="book.numPages" name="numPages" #numPages="ngModel">
        </td>
      </tr>
      <tr>
        <td>
          <label for="publisher.name">Publisher:</label>
        </td>
        <td>
          <input type="text" [(ngModel)]="book.publisher.name" name="publisher.name" #publisher.name="ngModel">
        </td>
      </tr>
      <tr>
        <td>
          <label for="publisher.url">Publisher Url:</label>
        </td>
        <td>
          <input type="text" [(ngModel)]="book.publisher.url" name="publisher.url" #publisher.url="ngModel">
        </td>
      </tr>
    </table>
    <button type="submit" [disabled]="!form.valid">Save</button>
  </form>
</div>
